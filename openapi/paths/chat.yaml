/api/ai/chat:
    get:
      tags:
        - chat
      summary: 会話履歴取得
      description: 現在のユーザーの会話履歴を時系列順（古い順）で取得します。
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '../components/schemas/chat.yaml#/ChatHistoryResponse'
        '500':
          description: サーバーエラー
    post:
      tags:
        - chat
      summary: AIチャット
      description: ユーザーのメッセージを受け取り、AIからの応答を返します。直近の経費データもコンテキストとして使用されます。
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../components/schemas/chat.yaml#/ChatRequest'
      responses:
        '200':
          description: 成功
          content:
            application/json:
              schema:
                $ref: '../components/schemas/chat.yaml#/ChatResponse'
        '400':
          description: 不正なリクエスト
        '500':
          description: サーバーエラー
